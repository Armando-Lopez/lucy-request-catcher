<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lucy - Request catcher</title>
    <style>
      button {
        cursor: pointer;
      }
    </style>
  </head>
  <body
    style="width: 700px; height: 600px; overflow: hidden"
    class="text-gray-600"
  >
    <div class="h-full pt-2 text-base flex flex-col">
      <div class="px-4 flex">
        <h1 class="mb-5 text-2xl text-purple-800 font-bold">
          Lucy - Request catcher
        </h1>
        <span class="ml-auto text-5xl rotate-180">üï∑Ô∏è</span>
      </div>
      <tabs-component>
        <div class="flex border-b border-purple-300">
          <button data-tab="tab1">Telara√±a</button>
          <button data-tab="tab2">Nuevo/Editar</button>
          <button data-tab="tab3">Espiar peticiones</button>
          <button data-tab="tab4">Opciones</button>
          <button data-tab="tab5">Acerca</button>
        </div>
        <div id="tabs-container" class="flex-1 overflow-y-auto px-5 pt-3 mb-1">
          <!-- Contenido de la pesta√±a Telara√±a -->
          <div class="tab-content h-full" id="tab1">
            <traps-component></traps-component>
          </div>
          <!-- Contenido de la pesta√±a Nuevo/Editar -->
          <div class="tab-content h-full hidden" id="tab2">
            <form id="trap-form" class="grid gap-4" autocomplete="off">
              <input type="text" name="id" id="id" hidden />
              <input type="checkbox" name="active" id="active" hidden />
              <div class="w-full">
                <label for="name">üìù Nombre de la regla</label>
                <input
                  class="control w-full rounded-md border border-gray-300 px-4 py-2 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-purple-500 focus:outline-none"
                  type="text"
                  id="name"
                  name="name"
                  placeholder="Mi intercept de usuario"
                  required
                />
              </div>
              <div class="w-full">
                <label for="name">üåê Sitio web</label>
                <input
                  class="control w-full rounded-md border border-gray-300 px-4 py-2 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-purple-500 focus:outline-none"
                  type="text"
                  id="webSite"
                  name="webSite"
                  placeholder="https://ejemplo.com"
                  required
                />
              </div>
              <div class="w-full">
                <label for="url">üêû URL a atrapar</label>
                <input
                  class="control w-full rounded-md border border-gray-300 px-4 py-2 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-purple-500 focus:outline-none"
                  type="text"
                  id="url"
                  name="url"
                  placeholder="https://api.ejemplo.com/api/user/{id}"
                  required
                />
              </div>
              <div class="flex flex-wrap gap-5">
                <div class="grid">
                  <label for="method">üì¨ M√©todo HTTP</label>
                  <select
                    id="method"
                    name="method"
                    required
                    class="control rounded-md border border-gray-300 bg-white p-2 focus:ring-2 focus:ring-purple-500 focus:outline-none"
                  >
                    <option selected value="" disabled>Seleciona</option>
                    <option value="GET">GET</option>
                    <option value="POST">POST</option>
                    <option value="PUT">PUT</option>
                    <option value="DELETE">DELETE</option>
                    <option value="PATCH">PATCH</option>
                  </select>
                </div>
                <div class="grid">
                  <label for="statusCode">üéØ C√≥digo de Respuesta</label>
                  <input
                    class="control w-24 rounded-md border border-gray-300 px-4 py-2 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-purple-500 focus:outline-none"
                    type="number"
                    id="statusCode"
                    name="statusCode"
                    placeholder="200"
                    required
                  />
                </div>
              </div>
              <div class="w-full">
                <label for="response">ü™° JSON de Respuesta (opcional)</label>
                <textarea
                  id="response"
                  name="response"
                  rows="5"
                  placeholder='{"id": 1, "name": "Lucy"}'
                  class="control w-full rounded-md border border-gray-300 px-4 py-2 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-purple-500 focus:outline-none"
                ></textarea>
              </div>
              <div
                class="sticky bottom-0 py-2 px-4 w-full flex justify-end bg-white border-t border-purple-300"
              >
                <button
                  type="submit"
                  class="block w-fit rounded-md bg-purple-500 p-2 px-4 text-white hover:bg-purple-600"
                >
                  Guardar
                </button>
              </div>
            </form>
          </div>
          <!-- Contenido de la pesta√±a Espiar -->
          <div class="tab-content h-full hidden" id="tab3">
            <div class="h-full flex flex-col gap-4">
              <div class="flex justify-between items-center px-2">
                <!-- <button
                  id="toggle-active-spy"
                  class="self-end block w-fit rounded-md bg-purple-500 py-1.5 px-2 text-white hover:bg-purple-600 text-sm"
                >
                  Activar Espia
                </button> -->
                <span class="text-sm text-gray-500">√öltimas 30 peticiones</span>
                <div class="flex items-center gap-2">
                  <button
                    id="clear-spies-list"
                    class="self-end block w-fit rounded-md ring-2 ring-purple-500 py-1 px-2 text-purple-500 hover:bg-purple-200 text-sm"
                  >
                    Limpiar lista
                  </button>
                </div>
              </div>
              <p id="no-spies" class="w-100 mx-auto mt-20 text-xl text-center">
                Aqu√≠ podr√°s ver peticiones HTTP recientes y convertirlas
                f√°cilmente en nuevas trampas üïµÔ∏è‚Äç‚ôÄÔ∏è
              </p>
              <div id="requests-spies-list" class="h-full"></div>
              <!-- <div class="h-full space-y-4"></div> -->
            </div>
          </div>
          <!-- Contenido de la pesta√±a Opciones -->
          <div class="tab-content h-full hidden" id="tab4">
            <options-component></options-component>
          </div>
          <!-- Contenido de la pesta√±a Acerca -->
          <div class="tab-content h-full hidden space-y-4" id="tab5">
            <about-component></about-component>
          </div>
        </div>
      </tabs-component>
    </div>
    <script src="/lib/tailwind_4.js"></script>
    <script src="popup.js" type="module"></script>
  </body>
</html>
